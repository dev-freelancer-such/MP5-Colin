@use '@/styles/variables' as *;
@use '@/styles/mixins' as *;

.common-button {
  position: relative;
  border-radius: var(--radius-xs);
  @include transition(all, var(--transition-base));
  text-transform: uppercase;

  font-weight: var(--font-weight-regular);

  &.common-button-full-width {
    width: 100%;
  }

  .common-button-icon-end {
    margin-left: var(--spacing-2);
    @include flex-center;
  }
}

.common-button-default {
  background-color: var(--color-bg-btn-primary);
  border-color: var(--color-primary);
  color: var(--color-white);

  &:hover {
    background-color: var(--color-primary-600);
    border-color: var(--color-primary-600);
    color: var(--color-white);
  }

  &:active {
    background-color: var(--color-primary-700);
    border-color: var(--color-primary-700);
  }
}

.btn-primary {
  position: relative;
  width: 100%;
  height: 33px;
  min-height: 33px;
  padding: 0 var(--spacing-3);
  border-radius: 4px;
  border: none;
  color: var(--color-white);
  cursor: pointer;
  background-color: var(--color-bg-btn-primary);
  transition: all 0.2s ease;
  display: flex;
  align-items: center;
  justify-content: center;
}

.btn-primary:hover {
  background-color: var(--color-primary-600);
}

.btn-primary:active {
  transform: scale(0.96);
}

.btn-primary:before,
.btn-primary:after {
  position: absolute;
  content: '';
  width: 100%;
  left: 0;
  height: 100%;
  transform: none;
  z-index: -1;
  background-repeat: no-repeat;
  border-radius: 4px;
  overflow: hidden;
}

.btn-primary:hover:before {
  top: -70%;
  background-image:
    radial-gradient(circle, #a89215 20%, transparent 20%),
    radial-gradient(circle, transparent 20%, #13a5be 20%, transparent 30%),
    radial-gradient(circle, #a3b82d 20%, transparent 20%),
    radial-gradient(circle, #590cbe 20%, transparent 20%),
    radial-gradient(circle, transparent 10%, #bd1717 15%, transparent 20%),
    radial-gradient(circle, #2a7ce8 20%, transparent 20%),
    radial-gradient(circle, #30e82a 20%, transparent 20%),
    radial-gradient(circle, #e92c75 20%, transparent 20%),
    radial-gradient(circle, #914fe7 20%, transparent 20%);
  background-size:
    8% 8%,
    12% 12%,
    10% 10%,
    14% 14%,
    12% 12%,
    8% 8%,
    10% 10%,
    8% 8%,
    12% 12%;
  background-position: 50% 120%;
  animation: greentopBubbles 0.6s ease;
}

@keyframes greentopBubbles {
  0% {
    background-position:
      5% 90%,
      10% 90%,
      10% 90%,
      15% 90%,
      25% 90%,
      25% 90%,
      40% 90%,
      55% 90%,
      70% 90%;
  }

  50% {
    background-position:
      0% 80%,
      0% 20%,
      10% 40%,
      20% 0%,
      30% 30%,
      22% 50%,
      50% 50%,
      65% 20%,
      90% 30%;
  }

  100% {
    background-position:
      0% 70%,
      0% 10%,
      10% 30%,
      20% -10%,
      30% 20%,
      22% 40%,
      50% 40%,
      65% 10%,
      90% 20%;
    background-size:
      0% 0%,
      0% 0%,
      0% 0%,
      0% 0%,
      0% 0%,
      0% 0%;
  }
}

// Success button
.common-button-success {
  background-color: var(--color-success);
  border-color: var(--color-success);
  color: var(--color-white);

  &:hover {
    background-color: var(--color-success-hover);
    border-color: var(--color-success-hover);
    color: var(--color-white);
  }

  &:active {
    background-color: var(--color-success-active);
    border-color: var(--color-success-active);
  }
}

// Warning button
.common-button-warning {
  background-color: var(--color-warning);
  border-color: var(--color-warning);
  color: var(--color-white);

  &:hover {
    background-color: var(--color-warning-hover);
    border-color: var(--color-warning-hover);
    color: var(--color-white);
  }

  &:active {
    background-color: var(--color-warning-active);
    border-color: var(--color-warning-active);
  }
}

// Error button
.common-button-error {
  background-color: var(--color-error);
  border-color: var(--color-error);
  color: var(--color-white);

  &:hover {
    background-color: var(--color-error-hover);
    border-color: var(--color-error-hover);
    color: var(--color-white);
  }

  &:active {
    background-color: var(--color-error-active);
    border-color: var(--color-error-active);
  }
}

// Info button
.common-button-info {
  background-color: var(--color-info);
  border-color: var(--color-info);
  color: var(--color-white);

  &:hover {
    background-color: var(--color-info-hover);
    border-color: var(--color-info-hover);
    color: var(--color-white);
  }

  &:active {
    background-color: var(--color-info-active);
    border-color: var(--color-info-active);
  }
}

// Secondary button
.common-button-secondary {
  background-color: transparent;
  border-color: var(--border-light);
  color: var(--text-light-primary);

  &:hover {
    background-color: var(--color-gray-50);
    border-color: var(--color-gray-400);
    color: var(--text-light-primary);
  }

  &:active {
    background-color: var(--color-gray-100);
    border-color: var(--color-gray-500);
  }
}

// Dark mode
.dark {
  .common-button-secondary {
    border-color: var(--color-border-light);
    color: var(--text-dark-primary);

    &:hover {
      background-color: rgba(255, 255, 255, 0.05);
      border-color: var(--color-gray-600);
      color: var(--text-dark-primary);
    }

    &:active {
      background-color: rgba(255, 255, 255, 0.1);
    }
  }
}
.btn-primary:hover::after {
  bottom: -70%;
  background-image:
    radial-gradient(circle, #ff93db 20%, transparent 20%),
    radial-gradient(circle, #2ae8df 20%, transparent 20%),
    radial-gradient(circle, transparent 10%, #71ffbd 15%, transparent 20%),
    radial-gradient(circle, #2a9ce8 20%, transparent 20%),
    radial-gradient(circle, #7814fc 20%, transparent 20%),
    radial-gradient(circle, #73e4f8 20%, transparent 20%),
    radial-gradient(circle, #f8d3a9 20%, transparent 20%);
  background-size:
    10% 10%,
    14% 14%,
    12% 12%,
    14% 14%,
    10% 10%,
    14% 14%,
    12% 12%;
  background-position: 50% 0%;
  animation: greenbottomBubbles 0.6s ease;
}

@keyframes greenbottomBubbles {
  0% {
    background-position:
      10% -10%,
      30% 10%,
      55% -10%,
      70% -10%,
      85% -10%,
      70% -10%,
      70% 0%;
  }

  50% {
    background-position:
      0% 80%,
      20% 80%,
      45% 60%,
      60% 100%,
      75% 70%,
      95% 60%,
      105% 0%;
  }

  100% {
    background-position:
      0% 90%,
      20% 90%,
      45% 70%,
      60% 110%,
      75% 80%,
      95% 70%,
      110% 10%;
    background-size:
      0% 0%,
      0% 0%,
      0% 0%,
      0% 0%,
      0% 0%,
      0% 0%;
  }
}
